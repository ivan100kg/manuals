TypeScript

Это типизированный JS

TS -> TSCompiler -> JS
    - создаем файл file.ts
    - компилируем
    - получаем file.js 

# Console
npm i -g typescript     // установить typescript
tsc --v                 // tsc - компилятор ts, посмотреть версию
tsc --init              // конфиг файл для настройки, настроить под проект <-----------+
tsc                     // скомпилить все файлы в name.js (имя ставится в настройках) -+
tsc index.ts            // скомпилить 1 файл в index.js


--- datatypes --------------------------------------------------------------------------------------
Primitive types:
string      'text'      let firstName: string;  // 'John' "Mike" `Fuck you ${name}`
number      3.14	    let price: number;      // 100 -2.4 0b1000 0o146 0x2FF 9007199254740991n
boolean     true	    let pending: boolean;   // true false
null	    null        has one value: null
undefined	undefined   has one value: undefined. It is a default value of an uninitialized variable
symbol	    symbol      represents a unique constant value

Object types:
let person: {           // объявляем объект, специфицурем какие поля какого типа
   name: string;
   age: number
}
person = {              // инициализация
   name: 'John',
   age: 25
};
let vacant: {} = {};    // объявить + инициализация, пустой объект(можно с не пустыми)

Array:
let names: string[];    // могут содержаться только строки
names = ['John','Jane'];
names.push('Ivan');
работают все методы forEach() map() reduce() filter()
// микс различных типов
let scores : (string | number)[];
scores = ['Programming', 5, 'Software Design', 4];

Tupple:
массив только фиксированного числа эл, опред типов
let tup: [number, boolean] = [1, false];
tup[0].toFixed(2);      // спец методы типо
let rgb: [number, number, number] = [255, 0, 0];

Enum:
константы, под капотом это числа от 0
enum ApprovalStatus {   // enum
    draft = 1,          // по умолчанию от 0, можно поменять          
    submitted,
    approved,
    rejected
};
ApprovalStatus.draft    // обращения к константам

Any:
любой тип
let result;
const json = `{"latitude": 10.11, "longitude":12.12}`;

Void:
отсутствие типа
function log(message): void {   // обычное применеиние в ф-ях без возвр знач
    console.log(messsage);
}
let useless: void = undefined;  // к void можно присвоить только undefined

Never:
тип не содержащий никаких занчений используется в функциях
которые всегда завершаются ошибкой, либо бесконечным циклом
function raiseError(message: string): never {
    throw new Error(message);
}

Union of types:
let result: number | string;    // можно присвоить только строку или число
function add(a: number | string, b: number | string)    // в параметрах

Alias:
шаблон для типа
type chars = string;    // шаблон для string
let messsage: chars;    // same as string type

String Literal:
let click: 'click';     // click - string literal type = 'click'
click = 'click';        // valid
click = 'dblclick';     // compiler error
string literal type может иметь одно из неск значений
let mouseEvent: 'click' | 'dblclick' | 'mouseup' | 'mousedown';
mouseEvent = 'click';       // valid
mouseEvent = 'dblclick';    // valid
mouseEvent = 'mouseup';     // valid
mouseEvent = 'mousedown';   // valid
mouseEvent = 'mouseover';   // compiler error


--- Basic constructions ----------------------------------------------
if (condition1) {
    code;
} else if (condition2) {
    code;
} else {
    code;
}

switch ( expression ) {
    case value1:
        code;
        break;
    case value2:
    case value3:
        code;
        break;
    default: 
        break;
}

for(initialization; condition; expression) {
    break;
}

while(condition) {
    continue;
}

do {
    code;
} while(condition);


--- Function --------------------------------------------------------------------------
function add(a: number, b: number): number {    // принимает 2 числа и возвращает число
    return a + b;
}

let add: (a: number, b: number) => number =     // тоже самое
    function (x: number, y: number) {
        return x + y;
    };

function echo(message: string): void {          // void ф-ия
    console.log(message.toUpperCase());
}

function multiply(a: number, b?: number)        // опционаяльный параметр, может быть или не быть
function multiply(a: number, b: number = 5)     // значение параметра по умолчанию
function getTotal(...numbers: number[])         // rest параметры(распаковка массива)

overloading:
function add(a: number, b: number): number;
function add(a: string, b: string): string;
function add(a: any, b: any): any {
   return a + b;
}

--- Class ---------------------------------------------------------
добавляются типы в поля, конструктор, методы
class Person {
    private ssn: string;            // private - доступ внутри класса
    public firstName: string;       // по умолчанию все поля/методы public
    protected lastName: string;     // доступен только в классе и сабклассах
    readonly birthDate: Date;       // final field не изменямая
    private _age : number;          // поле для геттера/сеттера

    constructor(ssn: string, firstName: string, lastName: string) {
        this.ssn = ssn;             
        this.firstName = firstName;
        this.lastName = lastName;
        this.birthDate = birthDate; // readonly обязательно иниц в конструкторе
    }

    getFullName(): string {
        return `${this.firstName} ${this.lastName}`;
    }

    public get age() {              // getter
        return this._age;
    }

    public set age(ag: number) {    // setter
        if (ag <= 0 || ag >= 200) {
            throw new Error('The age is invalid');
        }
        this._age = ag;
    }
}

let person = new Person(171280926, 'John', 'Doe');  // создать объект
person.firstName = 'Ivan';                          // обратиться к полю напрямую
person.age = 12;                                    // setter
// конструктор с модификаторами сразу
constructor(protected ssn: string, 
            private firstName: string, 
            private lastName: string, 
            readonly birthDate: Date)

// наследование
class Employee extends Person {                 
    constructor(
        firstName: string,
        lastName: string,
        private jobTitle: string) {
        
        // call the constructor of the Person class:
        super(firstName, lastName);
    }
}

let emp1: Employee = new Employee('Ivan', 'Bond', 'programmer');
let pers1: Person = new Person('12345', 'Oleg', 'Gvozd', new Date(), 39);
let pers2: Person = new Employee('Igor', 'Vernik', 'cleaner');              // полимофизм