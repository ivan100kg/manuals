--- ip ---------------------------------------------------------------------
Позволяет посмотреть сетевые интерфейсы и IP адреса им присвоенные,
посмотреть и настроить таблицу маршрутизации, включать или отключать сетевые
интерфейсы, управлять маршрутизацией и ARP.

# syntax
ip [option] object command [params]

# option
Опции это глобальные настройки, которые сказываются на работе всей
утилиты независимо от других аргументов, их указывать необязательно.
-v  -Version    - только вывод информации об утилите и ее версии.
-h  -human      - выводить данные в удобном для человека виде.
-s  -stats      - включает вывод статистической информации.
-d  -details    - показывать ещё больше подробностей.
-f  -family     - позволяет указать протокол, с которым нужно работать, если
                  протокол не указан, то берется на основе параметров команды.
                  Опция должна принимать одно из значений: 
                    bridge, dnet, inet, inet6, ipx, link 
                  По умолчанию используется inet, link - отсутствие протокола.
-o  -oneline    - выводить каждую запись с новой строки.
-r  -resolve    - определять имена хостов с помощью DNS.
-a  -all        - применить команду ко всем объектам.
-c  -color      - цветной вывод, доступные значения: auto, always и never.
-br -brief      - выводить только базовую информацию для удобства чтения.
-4              - короткая запись для -f inet.
-6              - короткая запись для -f inet -f inet6.
-B              - короткая запись для -f inet -f bridge.
-0              - короткая запись для -f inet -f link.

# object
Объект - это тип данных, с которым надо будет работать, например: адреса,
устройства, таблица arp, таблица маршрутизации и так далее.
address     a   - сетевые адреса.
link        l   - физическое сетевое устройство.
neighbour   n   - просмотр и управление ARP.
route       r   - управление маршрутизацией.
rule        ru  - правила маршрутизации.
tunnel      t   - настройка туннелирования.

# command
Команды - какое-либо действие с объектом. Зависят от объекта к кторому прим.
add
change
del
delete
flush
get
list
show
monitor
replace
restore
save
set
update

# params
Параметры - параметры, для команд.

# example
# address
ip a == ip address show             # посмотреть все IP связ со всеми интерфейсами
ip a show dev enp0s3                # посмотреть IP только для enp0s3 устр-ва
ip a add 10.0.2.100/24 dev enp0s3   # добавить IP адрес с маской в сокр виде
ip a del 10.0.2.100/24 dev enp0s3   # удалить IP адрес от интерфейса
ip a flush                          # удалить все адреса
ip a flush to 10.0.2.0/24           # удалить IP адреса подсети
# interface
ip l == ip link show                # список сетевых интерфейсов
ip link set dev enp0s3 down         # выключить интерфейс
ip link set dev enp0s3 up           # включить интерфейс 
ip link set mtu 4000 dev enp0s3     # mtu - package size(1500 default)
ip link set dev enp0s3 address AA:BB:CC:DD:EE:FF
                                    # уст-ка MAC-адреса, перед этим откл инт-с
# arp
ip n == ip neighbour show           # ARP table
ip neigh add 192.168.0.105 lladdr b0:be:76:43:21:41 dev enp0s3
                                    # добавить запись вручную(обычно авто)
ip n del dev enp0s3 192.168.0.105   # удалить запись из ARP таблицы
ip neigh flush dev enp0s3           # очистить все записи для опр инт-са
ip neigh flush                      # очистить всю таблицу
# route
ip r == ip route show               # таблица маршрутизации
ip route add 169.255.0.0 via 169.254.19.153
                                    # добавить маршрут для сети через тот же IP
ip r add 169.255.0.0 dev enp0s3     # указать сетевой инт-с через кот надо отпр
                                      пакеты для определенной сети
ip route del 169.255.0.0 via 169.254.19.153
                                    # удалить маршрут

--- ss -----------------------------------------------------------------------
Socket Statistic
Предоставляет подробную информацию об открытых портах и прослушиваемых сокетах

Отображаемая информация вывода:
Netid               - отображает типы сокетов
State               - отображает состояние сокета:
    ESTAB  - установлен
    UNCONN - не подключен
    LISTEN - прослушивается
Recv-Q              - количество принятых пакетов в очереди
Send-Q              - количество отправленных пакетов в очереди
Local address:port  - адрес локальной машины и порт
Peer address:port   - адрес удаленной машины и порт

Commands:
ss -h     # help
ss        # ESTAB сокеты (TCP/UNIX/UDP, которые установили соединение)
ss -a     # все открытые сокеты (TCP/UNIX/UDP), которые установили соединение
ss -l     # список прослушиваемых сокетов LISTEN
ss -t     # список всех TCP-соединений
ss -u     # список всех UDP-соединений
ss -w     # необработанные сокеты
ss -x     # сокеты Unix
ss -4     # список подключений к сокету IPv4 
ss -6     # список подключений к сокету IPv6 
ss -at4   # совмещение команд - все TCP-соединения IPv4
ss -t -p  # процессы сокетов
ss -t state listening # TCP-соединение с прослушиванием состояния
ss -at | grep LISTEN  # TCP-соединение с прослушиванием состояния(с пом grep)
ss -tr state established '( dport = :22 or sport = :22 )' # подключения к ssh


