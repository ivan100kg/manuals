# Шпаргалка по Vim

## Основные команды

### Выйти и сохранить:
- `:x` — Сохранить изменения и выйти.
- `:q` — Выйти, если не было изменений.
- `ZZ` — Выйти, если не было изменений.
- `:wq` — Сохранить изменения и выйти.
- `:q!` — Выйти, игнорируя изменения.
- `:w` — Сохранить без выхода.

### Режимы:
- `i` — Вставка перед курсором.
- `I` — Вставка в начало строки.
- `a` — Вставка после курсора.
- `A` — Вставка в конец строки.
- `o` — Открыть новую строку ниже.
- `O` — Открыть новую строку выше.

## Навигация

### Перемещение по символам и словам:
- `h` — Влево (по символам).
- `j` — Вниз (по строкам).
- `k` — Вверх (по строкам).
- `l` — Вправо (по символам).
- `w` — К следующему слову.
- `b` — К предыдущему слову.
- `e` — В конец слова.
- `0` — В начало строки.
- `$` — В конец строки.

### Перемещение по файлу:
- `G` — К последней строке.
- `1G` — К первой строке.
- `nG` — К n-й строке.
- `gg` — В начало файла.
- `Ctrl-f` — Страница вниз.
- `Ctrl-b` — Страница вверх.
- `Ctrl-d` — Полстраницы вниз.
- `Ctrl-u` — Полстраницы вверх.

### Перемещение по экрану:
- `H` — Верх экрана.
- `M` — Средина экрана.
- `L` — Низ экрана.
- `z` — Переместить страницу так, чтобы курсор оказался внизу.
- `zz` — Переместить страницу так, чтобы курсор оказался в центре.

### Поиск:
- `/строка` — Поиск строки вперёд.
- `?строка` — Поиск строки назад.
- `n` — Следующее вхождение.
- `N` — Предыдущее вхождение.
- `*` — Поиск следующего вхождения текущего слова.
- `#` — Поиск предыдущего вхождения текущего слова.

### Замена:
- `:%s/old/new/g` — Заменить все вхождения `old` на `new` в файле.
- `:s/old/new/g` — Заменить все вхождения в текущей строке.
- `:s/old/new/c` — Заменить с подтверждением.
- `:%s/old/new/gc` — Заменить все вхождения с подтверждением.

### Удаление текста:
- `x` — Удалить символ справа от курсора.
- `X` — Удалить символ слева от курсора.
- `d` — Удалить текст (используется с движением, например `dw` — удалить слово).
- `dd` — Удалить текущую строку.
- `d{motion}` — Удалить текст по движению (например, `d$` — удалить до конца строки).
- `D` — Удалить до конца строки.

### Копирование текста:
- `y` — Копировать текст (используется с движением, например `yw` — копировать слово).
- `yy` — Копировать текущую строку.
- `y{motion}` — Копировать текст по движению (например, `y$` — копировать до конца строки).

### Вставка текста:
- `p` — Вставить после курсора.
- `P` — Вставить перед курсором.
- `gp` — Вставить с перемещением курсора в конец вставленного текста.

### Изменение текста:
- `c` — Изменить текст (используется с движением, например `cw` — изменить слово).
- `C` — Изменить до конца строки.
- `cc` — Изменить всю строку.
- `r` — Заменить один символ.
- `R` — Заменить множество символов.

### Повторение действий:
- `.` — Повторить последнее изменение.

### Отмена:
- `u` — Отменить последнее изменение.
- `Ctrl-r` — Повторить отменённое изменение.

### Сдвиг текста:
- `>>` — Сдвиг строки вправо.
- `<<` — Сдвиг строки влево.

## Выделение текста

### Визуальный режим:
- `v` — Визуальный режим (по символам).
- `V` — Визуальный режим (по строкам).
- `Ctrl-v` — Визуальный блоковый режим.

## Макросы

### Запись и воспроизведение макросов:
1. Нажмите `q` и любую букву для начала записи макроса.
2. Выполните необходимые действия (удаление, замена, перемещение).
3. Нажмите `q` снова для остановки записи.
4. Для воспроизведения макроса используйте `@{буква}`, например `@a` для воспроизведения макроса, сохранённого в регистре `a`.

## Работа с файлами

### Открытие и сохранение файлов:
- `:e {filename}` — Открыть файл для редактирования.
- `:w {filename}` — Сохранить в файл.
- `:wq` — Сохранить и выйти.
- `:q` — Выйти (если изменений нет).
- `:q!` — Выйти без сохранения изменений.
- `:r {filename}` — Вставить содержимое файла в текущую позицию.
- `:bnext` — Перейти к следующему буферу.
- `:bprev` — Перейти к предыдущему буферу.

## Настройка и плагины

### Пример настройки `.vimrc`:

```vim
" Настройки для Vim

" Плагины
if empty(glob('~/.vim/autoload/plug.vim'))
  silent !curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
    \ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
endif

call plug#begin('~/.vim/plugged')

Plug 'easymotion/vim-easymotion'   " Легкое перемещение по тексту
Plug 'vim-airline/vim-airline'      " Статусная строка
Plug 'vim-airline/vim-airline-themes' " Темы для статусной строки
Plug 'arzg/vim-colors-xcode'       " Цветовая схема

call plug#end()

" Общие настройки
set nocompatible            " Отключить совместимость с vi
set encoding=utf-8          " Кодировка UTF-8
set number                  " Включить нумерацию строк
set tabstop=4               " Ширина табуляции
set expandtab               " Табуляция в пробелы
set cursorline              " Подсветка строки с курсором
set hlsearch                " Подсветка результатов поиска

" Автоматические команды
autocmd BufWritePre * %s/\s\+$//e   " Удалить пробелы в конце строки перед сохранением
